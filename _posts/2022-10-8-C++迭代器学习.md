# 迭代器学习笔记

****
## 迭代器概念

迭代器是一个变量，用于访问顺序容器和关联容器中的元素,迭代器可指向容器中的元素,它和指针类似.

## 迭代器的定义方法

- 正向迭代器

`容器类名::iterator 迭代器名;`

- 常量正向迭代器

`容器类名::const_iterator 迭代器名;`

- 反向迭代器

`容器类名::reverse_iterator  迭代器名;`

- 常量反向迭代器

`容器类名::const_reverse_iterator  迭代器名;`

## 迭代器用法及特点

迭代器都可以进行++操作，区别如下：
- 对正向迭代器的++操作会使迭代器指向容器中的后一个元素
- 对反向迭代器进行++操作会使迭代器指向容器中的前一个元素

下有示例：
```c++
#include <iostream>
#include <vector>
using namespace std;
int main()
{
    vector<int> v;  //v是存放int类型变量的可变长数组，开始时没有元素
    for (int n = 0; n<5; ++n)
        v.push_back(n);  //push_back成员函数在vector容器尾部添加一个元素
    vector<int>::iterator i;  //定义正向迭代器
    for (i = v.begin(); i != v.end(); ++i) {  //用迭代器遍历容器
        cout << *i << " ";  //*i 就是迭代器i指向的元素
        *i *= 2;  //每个元素变为原来的2倍
    }
    cout << endl;
    //用反向迭代器遍历容器
    for (vector<int>::reverse_iterator j = v.rbegin(); j != v.rend(); ++j)
        cout << *j << " ";
    return 0;
}
```

结果为：
```c++
0 1 2 3 4
8 6 4 2 0
```

## 迭代器功能分类

1. 正向迭代器

假设 p 是一个正向迭代器，则 p 支持以下操作：++p，p++，*p。此外，两个正向迭代器可以互相赋值，还可以用==和!=运算符进行比较

2. 双向迭代器

双向迭代器具有正向迭代器的全部功能。除此之外，若 p 是一个双向迭代器，则--p和p--都是有定义的。--p使得 p 朝和++p相反的方向移动。

3. 随机访问迭代器

随机访问迭代器具有双向迭代器的全部功能。若 p 是一个随机访问迭代器，i 是一个整型变量或常量，则 p 还支持以下操作:

```c++
p += i;     //使得p往后移动i个元素
p -= i;     //使得p往前移动i个元素
p + i;      //返回p后面第i个元素的迭代器
p - i;      //返回p前面第i个元素的迭代器
p[i];       //返回 p 后面第 i 个元素的引用
```

*以上操作类似数组及其指针*

- 此外，两个随机访问迭代器 p1、p2 还可以用 <、>、<=、>= 运算符进行比较。p1 < p2的含义是:经过若干次（至少一次）++操作后，就会等于 p2。其他比较方式的含义与此类似
- 类似数组的指针，p2 - p1的返回值是 p2 所指向元素和 p1 所指向元素的序号之差

**以下为不同容器的迭代器功能：**

|容器|迭代器功能|
|:---:|:---:|
|vector|随机访问|
|deque|随机访问|
|list|双向|
|set/multiset|双向|
|map/multimap|双向|

***注意：容器适配器无迭代器***